(this.webpackJsonpmemory=this.webpackJsonpmemory||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(8),s=a.n(r),i=(a(13),a(3)),o=a(2),l=(a(14),a(0)),u=function(e){var t=e.close,a=e.isWin,n=void 0!==a&&a,c=Object(l.jsxs)("p",{children:["Congratulations! ",Object(l.jsx)("br",{})," You win!"]}),r=Object(l.jsx)("p",{children:"Sorry! You lose!"});return Object(l.jsx)("div",{className:"modal",onClick:t,children:Object(l.jsxs)("div",{className:"modal-wrapper",children:[Object(l.jsx)("div",{className:"modal-body",children:n?c:r}),Object(l.jsx)("button",{onClick:t,children:"CONTINUE"})]})})},d=Object(n.createContext)(),j=function(e){var t=Math.floor(e/60),a=(e%60).toFixed(0);return t+"m:"+(a<10?"0":"")+a+"s"},m=a.p+"static/media/refresh.b4995814.svg",b=(a(16),function(e){var t=e.restart,a=Object(n.useState)(0),c=Object(i.a)(a,2),r=c[0],s=c[1],u=Object(n.useState)(null),b=Object(i.a)(u,2),p=b[0],f=b[1],O=Object(n.useContext)(d),h=O.analytics,x=O.setAnalytics,v=Object(n.useRef)();return Object(n.useEffect)((function(){switch(h.gameStatus){case"NOT STARTED":s(0),clearInterval(p),v.current.style.background="rgb(0, 102, 255)";break;case"IN PROGRESS":s(0),v.current.style.background="rgba(7, 138, 7, 0.863)";var e=setInterval((function(){f(e),s((function(e){return e+1}))}),1e3);break;case"END":v.current.style.background="rgba(141, 5, 5, 0.836)",x((function(e){return Object(o.a)(Object(o.a)({},e),{},{totalPlayedTime:e.totalPlayedTime+r,totalGames:e.totalGames+1})})),clearInterval(p);break;default:console.log("default")}return function(){return clearInterval(p)}}),[h.gameStatus]),Object(l.jsxs)("div",{className:"panel",children:[Object(l.jsx)("button",{onClick:t,className:"restartBtn",children:Object(l.jsx)("img",{src:m,alt:"reload"})}),Object(l.jsxs)("div",{className:"info-wrapper",children:[Object(l.jsxs)("div",{className:"info game-start",children:[Object(l.jsx)("p",{className:"info-label",children:"Game status "}),Object(l.jsx)("p",{ref:v,className:"info-value status",children:h.gameStatus})]}),Object(l.jsxs)("div",{className:"info total-timer-wrapper",children:[Object(l.jsx)("p",{className:"info-label",children:"Total Timer "}),Object(l.jsx)("p",{className:"info-value",children:j(h.totalPlayedTime)})]}),Object(l.jsxs)("div",{className:"info total-games-wrapper",children:[Object(l.jsx)("p",{className:"info-label",children:"Total Games "}),Object(l.jsx)("p",{className:"info-value",children:h.totalGames})]}),Object(l.jsxs)("div",{className:"info timer-wrapper",children:[Object(l.jsx)("p",{className:"info-label",children:"Current Timer "}),Object(l.jsx)("p",{className:"info-value",children:j(r)})]}),Object(l.jsxs)("div",{className:"info score-wrapper",children:[Object(l.jsx)("p",{className:"info-label",children:"Max Pairs "}),Object(l.jsx)("p",{className:"info-value",children:h.maxPairs})]})]})]})}),p=(a(17),function(e){var t=e.clicker,a=e.hero,n={backgroundPosition:null===a||void 0===a?void 0:a.position};return Object(l.jsxs)("div",{onClick:t,"data-hero":a.name,"data-id":a.id,className:"cell",children:[Object(l.jsx)("div",{className:"face front",children:Object(l.jsx)("div",{className:"logo"})}),Object(l.jsx)("div",{className:"face back",children:Object(l.jsx)("div",{className:"empty"===a.name?"empty-hero":"hero",style:n})})]})}),f={shuffle:function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];return e[t]=n[0],e[a]=n[1],e}},buildFlatPairsArray:function(e,t){for(var a=[],n=[],c=Math.pow(e,2),r=t.slice(),s=c%2===0,i=Math.floor(c/2),l=0;l<i;l++){var u=Math.floor(Math.random()*r.length),d=r[u];r.splice(u,1),a.push(d)}a.push.apply(a,a),s||a.push({name:"empty"});for(var j=0;j<a.length;j++)a[j].id="f".concat((~~(1e8*Math.random())).toString(16)),n.push(Object(o.a)({},a[j]));return this.shuffle(n),n},buildNestedPairsArray:function(e,t){for(var a=[],n=this.buildFlatPairsArray(e,t),c=n.map((function(e){return e.name})).filter((function(e){return"empty"!==e}));n.length>0;){var r=n.splice(0,e);a.push(r)}return{nestedTableWithHeroes:a,pairs:c}}},O=a(5),h={manipulationIfNotContain:function(e,t,a,n){var c=this.defineAction(n);Object(O.a)(document.querySelectorAll(".".concat(e))).forEach((function(e){e.classList.contains(t)||c(e,a)}))},manipulation:function(e,t,a){var n=Object(O.a)(document.querySelectorAll(".".concat(e))),c=this.defineAction(a);n.forEach((function(e){return c(e,t)}))},defineAction:function(e){return"add"===e?function(e,t){var a;return(a=e.classList).add.apply(a,Object(O.a)(t))}:function(e,t){var a;return(a=e.classList).remove.apply(a,Object(O.a)(t))}}},x=5,v={maxPairs:0,totalPlayedTime:0,totalGames:0,gameStatus:"NOT STARTED"},g=[{name:"Star Lord",position:"-28px 19px"},{name:"Black Widow",position:"-9px -7px"},{name:"Nebula",position:"9px -7px"},{name:"War Machine",position:"-28px -7px"},{name:"Ant-Man",position:"28px -7px"},{name:"Ms. Marvel",position:"9px 19px"},{name:"Hawkeye",position:"27px 45px"},{name:"Hulk",position:"-10px 19px"},{name:"Thanos",position:"28px 19px"},{name:"Thor",position:"-28px 45px"},{name:"Iron Man",position:"9.5px 45px"},{name:"Captain America",position:"-9px 45px"}],N=(a(18),function(e){var t=e.gameTable,a=e.handleClick;return Object(l.jsx)("div",{className:"canvas",children:t.map((function(e,t){return Object(l.jsx)("div",{className:"row",children:e.map((function(e){return Object(l.jsx)(p,{clicker:a,hero:e},e.id)}))},t)}))})}),y=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(i.a)(r,2),j=s[0],m=s[1],p=Object(n.useState)({clickedHero:"",clickedHeroId:""}),O=Object(i.a)(p,2),v=O[0],y=O[1],T=Object(n.useState)(!1),k=Object(i.a)(T,2),S=k[0],I=k[1],A=Object(n.useState)({count:0,prevId:null}),C=Object(i.a)(A,2),P=C[0],H=C[1],M=Object(n.useContext)(d),w=M.analytics,E=M.setAnalytics,G=function(e,t){var a=f.buildNestedPairsArray(e,t),n=a.nestedTableWithHeroes,r=a.pairs;c(n),m(r)};Object(n.useMemo)((function(){G(x,g)}),[x,g.length]),Object(n.useEffect)((function(){P.count>=w.maxPairs&&E((function(e){return Object(o.a)(Object(o.a)({},e),{},{maxPairs:P.count})}))}),[P.count]);var R=function(){H({count:0,prevId:null}),E(Object(o.a)(Object(o.a)({},w),{},{gameStatus:"NOT STARTED"})),y({clickedHero:"",clickedHeroId:""}),I(!1),h.manipulation("cell",["rotated","freezed","guessed"],"remove"),setTimeout((function(){G(x,g)}),1e3)};return Object(l.jsxs)("div",{className:"game-wrapper",children:[Object(l.jsx)(b,{restart:R}),Object(l.jsx)(N,{gameTable:a,handleClick:function(e){"NOT STARTED"===w.gameStatus&&E(Object(o.a)(Object(o.a)({},w),{},{gameStatus:"IN PROGRESS"}));var t=e.currentTarget;t.classList.toggle("rotated");var a=t.dataset.hero,n=t.dataset.id;if(v.clickedHero)if(v.clickedHero===a&&v.clickedHeroId!==n){var c=j.filter((function(e){return e!==a}));m(c),H((function(e){return Object(o.a)(Object(o.a)({},e),{},{count:e.count+1})})),0===c.length&&(E((function(e){return Object(o.a)(Object(o.a)({},e),{},{gameStatus:"END"})})),setTimeout((function(){h.manipulationIfNotContain("cell","rotated",["rotated","freezed"],"add"),H({count:0,prevId:null}),setTimeout((function(){I(!0)}),1e3)}),1e3)),h.manipulation("rotated",["guessed"],"add"),y({clickedHero:"",clickedHeroId:""})}else h.manipulation("cell",["freezed"],"add"),H({count:0,prevId:null}),setTimeout((function(){y({clickedHero:"",clickedHeroId:""}),h.manipulationIfNotContain("cell","guessed",["rotated","freezed"],"remove")}),1e3);else"empty"===a?(H({count:0,prevId:null}),h.manipulation("cell",["freezed"],"add"),setTimeout((function(){t.classList.toggle("rotated"),h.manipulation("cell",["freezed"],"remove")}),1e3)):y({clickedHero:a,clickedHeroId:n})}}),S&&Object(l.jsx)(u,{isWin:0===j.length,close:R})]})},T=a.p+"static/media/memory.8a33a641.svg",k=(a(19),function(){return Object(l.jsxs)("header",{className:"App-header",children:[Object(l.jsx)("div",{className:"game-logo",children:Object(l.jsx)("img",{src:T,alt:"logo"})}),Object(l.jsx)("h2",{className:"name",children:"Memory Game"}),Object(l.jsx)("div",{className:"game-logo reverse",children:Object(l.jsx)("img",{src:T,alt:"logo"})})]})});var S=function(){var e=Object(n.useState)(v),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(l.jsx)(d.Provider,{value:{analytics:a,setAnalytics:c},children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(k,{}),Object(l.jsx)(y,{})]})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,21)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root")),I()}],[[20,1,2]]]);
//# sourceMappingURL=main.03163fc6.chunk.js.map