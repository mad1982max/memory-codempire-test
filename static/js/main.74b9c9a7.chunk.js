(this.webpackJsonpmemory=this.webpackJsonpmemory||[]).push([[0],[,,,,,,,,,,,,,function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var c=t(1),n=t.n(c),s=t(8),r=t.n(s),l=(t(13),t(3)),i=t(2),o=(t(14),t(0)),u=function(e){var a=e.close,t=e.isWin,c=void 0!==t&&t,n=Object(o.jsxs)("p",{children:["Congratulations! ",Object(o.jsx)("br",{})," You win!"]}),s=Object(o.jsx)("p",{children:"Sorry! You lose!"});return Object(o.jsx)("div",{className:"modal",onClick:a,children:Object(o.jsxs)("div",{className:"modal-wrapper",children:[Object(o.jsx)("div",{className:"modal-body",children:c?n:s}),Object(o.jsx)("button",{onClick:a,children:"CONTINUE"})]})})},d=Object(c.createContext)(),m=function(e){var a=Math.floor(e/60),t=(e%60).toFixed(0);return a+"m:"+(t<10?"0":"")+t+"s"},j=t.p+"static/media/refresh.b4995814.svg",b=(t(16),function(e){var a=e.restart,t=Object(c.useState)(0),n=Object(l.a)(t,2),s=n[0],r=n[1],u=Object(c.useState)(null),b=Object(l.a)(u,2),f=b[0],O=b[1],h=Object(c.useContext)(d),p=h.analytics,v=h.setAnalytics,N=Object(c.useRef)();return Object(c.useEffect)((function(){switch(p.gameStatus){case"NOT STARTED":r(0),clearInterval(f),N.current.style.background="rgb(0, 102, 255)";break;case"IN PROGRESS":r(0),N.current.style.background="rgba(7, 138, 7, 0.863)";var e=setInterval((function(){O(e),r((function(e){return e+1}))}),1e3);break;case"END":N.current.style.background="rgba(141, 5, 5, 0.836)",v((function(e){return Object(i.a)(Object(i.a)({},e),{},{totalPlayedTime:e.totalPlayedTime+s,totalGames:e.totalGames+1})})),clearInterval(f);break;default:console.log("default")}return function(){return clearInterval(f)}}),[p.gameStatus]),Object(o.jsxs)("div",{className:"panel",children:[Object(o.jsx)("button",{onClick:a,className:"restartBtn",children:Object(o.jsx)("img",{src:j,alt:"reload"})}),Object(o.jsxs)("div",{className:"info-wrapper",children:[Object(o.jsxs)("div",{className:"info game-start",children:[Object(o.jsx)("p",{className:"info-label",children:"Game status "}),Object(o.jsx)("p",{ref:N,className:"info-value status",children:p.gameStatus})]}),Object(o.jsxs)("div",{className:"info total-timer-wrapper",children:[Object(o.jsx)("p",{className:"info-label",children:"Total Timer "}),Object(o.jsx)("p",{className:"info-value",children:m(p.totalPlayedTime)})]}),Object(o.jsxs)("div",{className:"info total-games-wrapper",children:[Object(o.jsx)("p",{className:"info-label",children:"Total Games "}),Object(o.jsx)("p",{className:"info-value",children:p.totalGames})]}),Object(o.jsxs)("div",{className:"info timer-wrapper",children:[Object(o.jsx)("p",{className:"info-label",children:"Current Timer "}),Object(o.jsx)("p",{className:"info-value",children:m(s)})]}),Object(o.jsxs)("div",{className:"info score-wrapper",children:[Object(o.jsx)("p",{className:"info-label",children:"Max Pairs "}),Object(o.jsx)("p",{className:"info-value",children:p.maxPairs})]})]})]})}),f=(t(17),function(e){var a=e.clicker,t=e.hero;return Object(o.jsxs)("div",{onClick:a,"data-hero":t.name,"data-id":t.id,className:"cell",children:[Object(o.jsx)("div",{className:"face front",children:Object(o.jsx)("div",{className:"logo"})}),Object(o.jsx)("div",{className:"face back",children:Object(o.jsx)("div",{className:"empty"===t.name?"empty-hero":"hero ".concat(t.className)})})]})}),O={shuffle:function(e){for(var a=e.length-1;a>0;a--){var t=Math.floor(Math.random()*(a+1)),c=[e[t],e[a]];return e[a]=c[0],e[t]=c[1],e}},buildFlatPairsArray:function(e,a){for(var t=[],c=[],n=Math.pow(e,2),s=a.slice(),r=n%2===0,l=Math.floor(n/2),o=0;o<l;o++){var u=Math.floor(Math.random()*s.length),d=s[u];s.splice(u,1),t.push(d)}t.push.apply(t,t),r||t.push({name:"empty"});for(var m=0;m<t.length;m++)t[m].id="f".concat((~~(1e8*Math.random())).toString(16)),c.push(Object(i.a)({},t[m]));return this.shuffle(c),c},buildNestedPairsArray:function(e,a){for(var t=[],c=this.buildFlatPairsArray(e,a),n=c.map((function(e){return e.name})).filter((function(e){return"empty"!==e}));c.length>0;){var s=c.splice(0,e);t.push(s)}return{nestedTableWithHeroes:t,pairs:n}}},h=t(5),p={manipulationIfNotContain:function(e,a,t,c){var n=this.defineAction(c);Object(h.a)(document.querySelectorAll(".".concat(e))).forEach((function(e){e.classList.contains(a)||n(e,t)}))},manipulation:function(e,a,t){var c=Object(h.a)(document.querySelectorAll(".".concat(e))),n=this.defineAction(t);c.forEach((function(e){return n(e,a)}))},defineAction:function(e){return"add"===e?function(e,a){var t;return(t=e.classList).add.apply(t,Object(h.a)(a))}:function(e,a){var t;return(t=e.classList).remove.apply(t,Object(h.a)(a))}}},v=5,N={maxPairs:0,totalPlayedTime:0,totalGames:0,gameStatus:"NOT STARTED"},x=[{name:"Star Lord",className:"star-lord"},{name:"Black Widow",className:"black-widow"},{name:"Nebula",className:"nebula"},{name:"War Machine",className:"war-machine"},{name:"Ant-Man",className:"ant-man"},{name:"Ms.Marvel",className:"ms-marvel"},{name:"Hawkeye",className:"hawkeye"},{name:"Hulk",className:"hulk"},{name:"Thanos",className:"thanos"},{name:"Thor",className:"thor"},{name:"Iron Man",className:"iron-man"},{name:"Captain America",className:"captain-america"}],g=(t(18),function(e){var a=e.gameTable,t=e.handleClick;return Object(o.jsx)("div",{className:"canvas",children:a.map((function(e,a){return Object(o.jsx)("div",{className:"row",children:e.map((function(e){return Object(o.jsx)(f,{clicker:t,hero:e},e.id)}))},a)}))})}),k=function(){var e=Object(c.useState)([]),a=Object(l.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),m=r[0],j=r[1],f=Object(c.useState)({clickedHero:"",clickedHeroId:""}),h=Object(l.a)(f,2),N=h[0],k=h[1],y=Object(c.useState)(!1),T=Object(l.a)(y,2),S=T[0],I=T[1],A=Object(c.useState)({count:0,prevId:null}),w=Object(l.a)(A,2),C=w[0],P=w[1],H=Object(c.useContext)(d),M=H.analytics,E=H.setAnalytics,G=function(e,a){var t=O.buildNestedPairsArray(e,a),c=t.nestedTableWithHeroes,s=t.pairs;n(c),j(s)};Object(c.useMemo)((function(){G(v,x)}),[v,x.length]),Object(c.useEffect)((function(){C.count>=M.maxPairs&&E((function(e){return Object(i.a)(Object(i.a)({},e),{},{maxPairs:C.count})}))}),[C.count]);var R=function(){P({count:0,prevId:null}),E(Object(i.a)(Object(i.a)({},M),{},{gameStatus:"NOT STARTED"})),k({clickedHero:"",clickedHeroId:""}),I(!1),p.manipulation("cell",["rotated","freezed","guessed"],"remove"),setTimeout((function(){G(v,x)}),1e3)};return Object(o.jsxs)("div",{className:"game-wrapper",children:[Object(o.jsx)(b,{restart:R}),Object(o.jsx)(g,{gameTable:t,handleClick:function(e){"NOT STARTED"===M.gameStatus&&E(Object(i.a)(Object(i.a)({},M),{},{gameStatus:"IN PROGRESS"}));var a=e.currentTarget;a.classList.toggle("rotated");var t=a.dataset.hero,c=a.dataset.id;if(N.clickedHero)if(N.clickedHero===t&&N.clickedHeroId!==c){var n=m.filter((function(e){return e!==t}));j(n),P((function(e){return Object(i.a)(Object(i.a)({},e),{},{count:e.count+1})})),0===n.length&&(E((function(e){return Object(i.a)(Object(i.a)({},e),{},{gameStatus:"END"})})),setTimeout((function(){p.manipulationIfNotContain("cell","rotated",["rotated","freezed"],"add"),P({count:0,prevId:null}),setTimeout((function(){I(!0)}),1e3)}),1e3)),p.manipulation("rotated",["guessed"],"add"),k({clickedHero:"",clickedHeroId:""})}else p.manipulation("cell",["freezed"],"add"),P({count:0,prevId:null}),setTimeout((function(){k({clickedHero:"",clickedHeroId:""}),p.manipulationIfNotContain("cell","guessed",["rotated","freezed"],"remove")}),1e3);else"empty"===t?(P({count:0,prevId:null}),p.manipulation("cell",["freezed"],"add"),setTimeout((function(){a.classList.toggle("rotated"),p.manipulation("cell",["freezed"],"remove")}),1e3)):k({clickedHero:t,clickedHeroId:c})}}),S&&Object(o.jsx)(u,{isWin:0===m.length,close:R})]})},y=t.p+"static/media/memory.8a33a641.svg",T=(t(19),function(){return Object(o.jsxs)("header",{className:"App-header",children:[Object(o.jsx)("div",{className:"game-logo",children:Object(o.jsx)("img",{src:y,alt:"logo"})}),Object(o.jsx)("h2",{className:"name",children:"Memory Game"}),Object(o.jsx)("div",{className:"game-logo reverse",children:Object(o.jsx)("img",{src:y,alt:"logo"})})]})});var S=function(){var e=Object(c.useState)(N),a=Object(l.a)(e,2),t=a[0],n=a[1];return Object(o.jsx)(d.Provider,{value:{analytics:t,setAnalytics:n},children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(T,{}),Object(o.jsx)(k,{})]})})},I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(a){var t=a.getCLS,c=a.getFID,n=a.getFCP,s=a.getLCP,r=a.getTTFB;t(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root")),I()}],[[20,1,2]]]);
//# sourceMappingURL=main.74b9c9a7.chunk.js.map